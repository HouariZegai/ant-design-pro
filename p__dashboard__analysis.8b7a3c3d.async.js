(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"14J3":function(a,e,t){"use strict";t.r(e);t("cIOH"),t("1GLa")},BMrR:function(a,e,t){"use strict";t.r(e);var n=t("qrJ5");e["default"]=n["a"]},UXoT:function(a,e,t){a.exports={iconGroup:"antd-pro-pages-dashboard-analysis-style-iconGroup",anticon:"antd-pro-pages-dashboard-analysis-style-anticon",rankingList:"antd-pro-pages-dashboard-analysis-style-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-style-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-style-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-style-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-style-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-style-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-style-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-style-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-style-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-style-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-style-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-style-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-style-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-style-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-style-salesExtraWrap"}},jCWc:function(a,e,t){"use strict";t.r(e);t("cIOH"),t("1GLa")},jXcd:function(a,e,t){"use strict";t.r(e);t("14J3");var n=t("BMrR"),s=(t("jCWc"),t("kPKH")),r=(t("qVdP"),t("jsC+")),l=(t("lUTK"),t("BvKs")),i=t("fWQN"),o=t("mtLc"),d=t("yKVA"),c=t("879j"),u=t("GZ0F"),p=t("q1tI"),y=t.n(p),h=t("y1Nh"),f=t("9kvl"),g=(t("T2oS"),t("W9HT")),m=function(){return y.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},y.a.createElement(g["default"],{size:"large"}))},b=t("wd/R"),v=t.n(b);function k(a){return 1*a<10?"0".concat(a):a}function T(a){var e=new Date,t=864e5;if("today"===a)return e.setHours(0),e.setMinutes(0),e.setSeconds(0),[v()(e),v()(e.getTime()+(t-1e3))];if("week"===a){var n=e.getDay();e.setHours(0),e.setMinutes(0),e.setSeconds(0),0===n?n=6:n-=1;var s=e.getTime()-n*t;return[v()(s),v()(s+(7*t-1e3))]}var r=e.getFullYear();if("month"===a){var l=e.getMonth(),i=v()(e).add(1,"months"),o=i.year(),d=i.month();return[v()("".concat(r,"-").concat(k(l+1),"-01 00:00:00")),v()(v()("".concat(o,"-").concat(k(d+1),"-01 00:00:00")).valueOf()-1e3)]}return[v()("".concat(r,"-01-01 00:00:00")),v()("".concat(r,"-12-31 23:59:59"))]}var E=t("UXoT"),D=t.n(E),C=y.a.lazy((function(){return Promise.all([t.e(2),t.e(4),t.e(5),t.e(13),t.e(57)]).then(t.bind(null,"CqmX"))})),P=y.a.lazy((function(){return Promise.all([t.e(2),t.e(4),t.e(5),t.e(9),t.e(56)]).then(t.bind(null,"qpEo"))})),S=y.a.lazy((function(){return Promise.all([t.e(2),t.e(4),t.e(5),t.e(6),t.e(54)]).then(t.bind(null,"ceP7"))})),A=y.a.lazy((function(){return Promise.all([t.e(2),t.e(4),t.e(5),t.e(58),t.e(55)]).then(t.bind(null,"8gNO"))})),x=y.a.lazy((function(){return Promise.all([t.e(2),t.e(4),t.e(5),t.e(13),t.e(59)]).then(t.bind(null,"vvVX"))})),R=function(a){Object(d["a"])(t,a);var e=Object(c["a"])(t);function t(){var a;Object(i["a"])(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,[this].concat(s)),a.state={salesType:"all",currentTabKey:"",rangePickerValue:T("year")},a.reqRef=0,a.timeoutId=0,a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:T(e)}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue;if(!t)return"";var n=T(e);return n&&t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?D.a.currentDate:""},a}return Object(o["a"])(t,[{key:"componentDidMount",value:function(){var a=this.props.dispatch;this.reqRef=requestAnimationFrame((function(){a({type:"dashboardAndanalysis/fetch"})}))}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"dashboardAndanalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var a,e=this.state,t=e.rangePickerValue,i=e.salesType,o=e.currentTabKey,d=this.props,c=d.dashboardAndanalysis,f=d.loading,g=c.visitData,b=c.visitData2,v=c.salesData,k=c.searchData,T=c.offlineData,E=c.offlineChartData,R=c.salesTypeData,w=c.salesTypeDataOnline,I=c.salesTypeDataOffline;a="all"===i?R:"online"===i?w:I;var O=y.a.createElement(l["default"],null,y.a.createElement(l["default"].Item,null,"\u64cd\u4f5c\u4e00"),y.a.createElement(l["default"].Item,null,"\u64cd\u4f5c\u4e8c")),j=y.a.createElement("span",{className:D.a.iconGroup},y.a.createElement(r["default"],{overlay:O,placement:"bottomRight"},y.a.createElement(u["a"],null))),q=o||T[0]&&T[0].name;return y.a.createElement(h["GridContent"],null,y.a.createElement(y.a.Fragment,null,y.a.createElement(p["Suspense"],{fallback:y.a.createElement(m,null)},y.a.createElement(C,{loading:f,visitData:g})),y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(P,{rangePickerValue:t,salesData:v,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:f,selectDate:this.selectDate})),y.a.createElement(n["default"],{gutter:24,style:{marginTop:24}},y.a.createElement(s["default"],{xl:12,lg:24,md:24,sm:24,xs:24},y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(S,{loading:f,visitData2:b,searchData:k,dropdownGroup:j}))),y.a.createElement(s["default"],{xl:12,lg:24,md:24,sm:24,xs:24},y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(A,{dropdownGroup:j,salesType:i,loading:f,salesPieData:a,handleChangeSalesType:this.handleChangeSalesType})))),y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(x,{activeKey:q,loading:f,offlineData:T,offlineChartData:E,handleTabChange:this.handleTabChange}))))}}]),t}(p["Component"]);e["default"]=Object(f["c"])((function(a){var e=a.dashboardAndanalysis,t=a.loading;return{dashboardAndanalysis:e,loading:t.effects["dashboardAndanalysis/fetch"]}}))(R)},kPKH:function(a,e,t){"use strict";t.r(e);var n=t("/kpp");e["default"]=n["a"]}}]);